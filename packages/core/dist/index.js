"use client";
"use strict";var p=Object.defineProperty;var T=Object.getOwnPropertyDescriptor;var E=Object.getOwnPropertyNames;var k=Object.prototype.hasOwnProperty;var v=(t,o)=>{for(var r in o)p(t,r,{get:o[r],enumerable:!0})},R=(t,o,r,n)=>{if(o&&typeof o=="object"||typeof o=="function")for(let i of E(o))!k.call(t,i)&&i!==r&&p(t,i,{get:()=>o[i],enumerable:!(n=T(o,i))||n.enumerable});return t};var L=t=>R(p({},"__esModule",{value:!0}),t);var w={};v(w,{FloatingToolbarPlugin:()=>x,LuxeEditor:()=>S});module.exports=L(w);var f=require("@lexical/react/LexicalComposer"),b=require("@lexical/react/LexicalRichTextPlugin"),y=require("@lexical/react/LexicalContentEditable"),h=require("@lexical/react/LexicalHistoryPlugin"),C=require("@lexical/react/LexicalErrorBoundary");var g=require("@lexical/react/LexicalComposerContext"),d=require("lexical"),a=require("react"),m=require("react-dom"),s=require("react/jsx-runtime");function x(){let[t]=(0,g.useLexicalComposerContext)(),[o,r]=(0,a.useState)(null),n=(0,a.useCallback)(()=>{let e=(0,d.$getSelection)();if((0,d.$isRangeSelection)(e)&&!e.isCollapsed()){let c=window.getSelection();if(c&&c.rangeCount>0){let u=c.getRangeAt(0).getBoundingClientRect();u&&r({x:u.left+u.width/2,y:u.top-40})}}else r(null)},[]);(0,a.useEffect)(()=>t.registerUpdateListener(({editorState:e})=>{e.read(()=>n())}),[t,n]),(0,a.useEffect)(()=>{let e=()=>{setTimeout(()=>n(),0)};return document.addEventListener("mouseup",e),()=>document.removeEventListener("mouseup",e)},[n]);let i=(0,a.useCallback)(e=>{t.dispatchCommand(d.FORMAT_TEXT_COMMAND,e)},[t]);return o?(0,m.createPortal)((0,s.jsxs)("div",{className:"luxe-floating-toolbar",style:{position:"fixed",top:`${o.y}px`,left:`${o.x}px`,transform:"translateX(-50%)",display:"flex",gap:"4px",background:"white",border:"1px solid #e5e7eb",borderRadius:"6px",padding:"4px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",zIndex:1e3},children:[(0,s.jsx)("button",{onClick:()=>i("bold"),style:{padding:"6px 12px",border:"none",background:"transparent",cursor:"pointer",borderRadius:"4px",fontWeight:"bold"},onMouseEnter:e=>{e.currentTarget.style.background="#f3f4f6"},onMouseLeave:e=>{e.currentTarget.style.background="transparent"},children:"B"}),(0,s.jsx)("button",{onClick:()=>i("italic"),style:{padding:"6px 12px",border:"none",background:"transparent",cursor:"pointer",borderRadius:"4px",fontStyle:"italic"},onMouseEnter:e=>{e.currentTarget.style.background="#f3f4f6"},onMouseLeave:e=>{e.currentTarget.style.background="transparent"},children:"I"})]}),document.body):null}var l=require("react/jsx-runtime"),M={paragraph:"luxe-paragraph",text:{bold:"luxe-bold",italic:"luxe-italic"}};function S({initialConfig:t,children:o}){let r={...t,theme:M,onError:n=>console.error(n)};return(0,l.jsx)(f.LexicalComposer,{initialConfig:r,children:(0,l.jsxs)("div",{className:"luxe-editor-container",children:[(0,l.jsx)(b.RichTextPlugin,{contentEditable:(0,l.jsx)(y.ContentEditable,{className:"luxe-input"}),placeholder:(0,l.jsx)("div",{className:"luxe-placeholder",children:"Start writing..."}),ErrorBoundary:C.LexicalErrorBoundary}),(0,l.jsx)(h.HistoryPlugin,{}),o]})})}0&&(module.exports={FloatingToolbarPlugin,LuxeEditor});
